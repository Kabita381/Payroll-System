:root {
    --bg-main: #f1f5f9;
    --text-dark: #1e293b;
    --text-muted: #64748b;
    --accent: #4f46e5;
    --success: #10b981;
    --danger: #e11d48;
    --border-color: #cbd5e1;
    --esewa-green: #60bb46;
}

/* Reduced padding to ensure content fits on one screen height */
.payroll-preview-wrapper {
    background-color: var(--bg-main);
    min-height: 100vh;
    padding: 15px 20px;
    font-family: 'Inter', sans-serif;
}

.preview-container { 
    max-width: 1000px; 
    margin: 0 auto; 
}

/* Tightened top bar */
.preview-top-bar { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    margin-bottom: 12px; 
}

.back-link {
    background: none; 
    border: none; 
    color: var(--text-muted);
    font-weight: 700; 
    cursor: pointer; 
    text-decoration: underline;
    font-size: 0.85rem;
}

.status-indicator {
    background: #e0e7ff; 
    color: #4338ca; 
    padding: 4px 12px;
    border-radius: 4px; 
    font-size: 0.65rem; 
    font-weight: 800;
}

/* Adjusted grid for better space utilization */
.main-preview-grid { 
    display: grid; 
    grid-template-columns: 240px 1fr; 
    gap: 20px; 
}

.info-panel {
    background: white; 
    padding: 20px; 
    border-radius: 10px; 
    border: 1px solid var(--border-color); 
    text-align: center; 
    height: fit-content;
}

.emp-avatar {
    width: 60px; 
    height: 60px; 
    background: var(--accent); 
    color: white;
    border-radius: 50%; 
    margin: 0 auto 10px; 
    display: flex;
    align-items: center; 
    justify-content: center; 
    font-size: 1.5rem; 
    font-weight: 800;
}

.emp-meta { 
    font-size: 0.75rem; 
    color: var(--text-muted); 
    margin-bottom: 3px; 
}

.attendance-summary-box {
    margin-top: 15px; 
    padding: 10px; 
    background: #f8fafc;
    border-radius: 6px; 
    text-align: left; 
    border-left: 4px solid var(--accent);
}

.attendance-summary-box h4 { font-size: 0.6rem; color: var(--text-muted); margin-bottom: 2px; }
.attendance-summary-box p { font-size: 0.75rem; font-weight: 600; margin: 0; }

.payslip-card {
    background: white; 
    border-radius: 10px; 
    border: 1px solid var(--border-color);
    box-shadow: 0 2px 12px rgba(0,0,0,0.06); 
    overflow: hidden;
}

.payslip-header {
    background: #0f172a; 
    color: white; 
    padding: 12px 25px;
    display: flex; 
    justify-content: space-between; 
    font-size: 0.75rem; 
    font-weight: 700;
}

/* Reduced vertical padding in sections */
.payslip-section { 
    padding: 12px 25px; 
    border-bottom: 1px solid #f1f5f9; 
}

/* Distinct styling for the pre-tax deduction area */
.taxable-bridge-section { 
    background: #fffafa; 
    border-left: 5px solid var(--danger); 
}

.section-label {
    display: block; 
    font-size: 0.65rem; 
    font-weight: 900; 
    color: var(--text-muted);
    text-transform: uppercase; 
    margin-bottom: 8px; 
    letter-spacing: 0.5px;
}

.payslip-row { 
    display: flex; 
    justify-content: space-between; 
    margin-bottom: 6px; 
    font-size: 0.9rem; 
}

.payslip-row span:last-child { 
    font-weight: 700; 
    font-family: 'Roboto Mono', monospace; 
}

.bonus-row { color: #059669; }
.neg { color: var(--danger); }
.pos { color: var(--success); }

.highlight-gross { 
    border-top: 1px solid #e2e8f0; 
    padding-top: 8px; 
    margin-top: 8px; 
    font-weight: 800; 
    color: #000; 
}

.highlight-taxable { 
    color: #be123c; 
    font-weight: 800; 
    font-size: 0.95rem; 
}

.highlight-total-ded { 
    border-top: 1px solid #e2e8f0; 
    padding-top: 8px; 
    color: var(--danger); 
    font-weight: 800; 
}

/* Dramatically reduced the Net Pay Box size for single-screen fit */
.net-pay-box { 
    background: #f8fafc; 
    padding: 15px; 
    text-align: center; 
    border-top: 2px dashed #cbd5e1; 
}

.net-pay-box label {
    font-size: 0.7rem;
    font-weight: 800;
    color: var(--text-muted);
    text-transform: uppercase;
}

.net-pay-box h1 { 
    font-size: 2.2rem; 
    margin: 5px 0; 
    font-weight: 900; 
    color: #0f172a; 
}

.calc-formula { 
    font-size: 0.65rem; 
    color: var(--text-muted); 
    font-weight: 600; 
}

/* Compact action buttons */
.action-footer { 
    display: flex; 
    justify-content: flex-end; 
    gap: 12px; 
    margin-top: 15px; 
}

.btn-finalize {
    background: var(--esewa-green); 
    color: white; 
    border: none;
    padding: 10px 30px; 
    border-radius: 6px; 
    font-weight: 800; 
    cursor: pointer;
    font-size: 0.9rem;
}

.btn-cancel {
    background: white; 
    border: 1px solid var(--border-color);
    padding: 10px 20px; 
    border-radius: 6px; 
    font-weight: 700; 
    color: var(--text-muted);
    cursor: pointer;
    font-size: 0.9rem;
}

.session-error { text-align: center; padding: 30px; background: white; border-radius: 10px; }